= javascript_include_tag 'codemirror/codemirror', 'codemirror/mirrorframe'

%h2 New Script
- form_for [:developer, script] do |form|
  = form.error_messages

  = form.hidden_field :parent_id

  %p
    = form.label :title
    = form.text_field :title

  %p
    = form.label :description
    = form.text_field :description

  %p
    = form.hidden_field :code
    = form.label :src, "Source (#{script.lang})"
    .border
      = form.text_area :src, :class => "code"

  .left
    %button.run Run
  .right= form.submit
  .clear

// TODO this could be a form helper or something
= render :partial => "editor", :locals => {:lang => script.lang, :src_id => 'script_src', :code_id => 'script_code'}
