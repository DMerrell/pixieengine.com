- @title = "Sound Gallery"

.filters
  = button_link "Create Sound Effect", "sound_add", new_sound_path
  =link_to "My Sounds", { :filter => :own }, { :class => "button" }
  =link_to "All", { :filter => :none }, { :class => "button" }

%section.gallery
  = render :partial => @sounds

#preview_sound
  %audio

:coffeescript
  $('.sound_preview').mousedown ->
    src = $(this).data('wav_src') || $(this).data('mp3_src')

    $('#preview_sound audio').attr('src', src).get(0).play()

%style
  :sass
    @import util
    @import partials/base

    .title_container
      white-space: nowrap

    h2
      display: inline-block

    .author
      color: #888

    .sound
      +bounds(200px, 135px)
      +glass
      +inline-block

      margin: 1em
      overflow-x: hidden
      overflow-y: auto
      padding: 1em

    .sound_preview
      +border-radius
      +bounds(72px)

      background: #fff url(/images/wav.png) no-repeat center center
      color: #000
      display: inline-block
      font-size: 10px
      margin-right: 10px
      margin-bottom: 10px
      position: relative
      text-align: center

      &:hover
        background: #fff url(/images/play.png) no-repeat center center

      img
        +max-bounds(64px)

      span
        position: absolute
        right: 0
        left: 0
        bottom: 0
        top: 0
        margin: auto
